---
title: "Forecasting: Principles and Practice"
subtitle: "Chapter 2: Time Series Graphics"
author: "Darshan Patel"
date: "8/1/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(eval = FALSE)
```

### Question 1: 
Use the help function to explore what the series `gold`, `woolynrq` and `gas` represent.

(a) Use `autoplot()` to plot each of these in separate plots.

(b) What is the frequency of each series? Hint: apply the `frequency()` function.

(c) Use `which.max()` to spot the outlier in the `gold` series. Which observation was it?

### Question 2: 
Download the file `tute1.csv` from the book website (http://otexts.com/fpp2/extrafiles/tute1.csv), open it in Excel (or some other spreadsheet application), and review its conents. You should find four columns of information. Columns B through D each contain a quarterly series, labelled Sales, AdBudget and GDP. Sales contains the quarterly sales for a small company over the period $1981$-$2005$. AdBudget is the advertising budget and GDP is the gross domestic product. All series have been adjusted for inflation.

(a) You can read the data into `R` with the following script:
```{r}
tute1 = read.csv("tute1.csv", header=TRUE)
View(tute1)
```

(b) Convert the data to time series.
```{r}
mytimeseries = ts(tute1[,-1], start=1981, frequency=4)
```
(The `[,-1]` removes the first column which contains the quarters as we don't need them now.)

(c) Construct time series plots of each of the three series.
```{r}
autoplot(mytimeseries, facets=TRUE)
```
Check what happens when you don't include `facets=TRUE`.

### Question 3: 
Download some monthly Australian retail data from the book website (https://otexts.com/fpp2/extrafiles/retail.xlsx). These represent retaul sales in various categories for different Australian states, and are stored in a MS-Excel file.

(a) You can read the data into `R` with the following script:
```{r}
retaildata = readxl::read_excel("retail.xlsx", skip=1)
```
The second argument (`skip=1`) is required because the Excel sheet has two header rows.

(b) Select one of the time series as follows (but replace the column name with your own chosen column):
```{r}
myts = ts(retaildata[, "A3349873A"], frequency=12, start=c(1982,4))
```

(c) Explore your chosen retail time series using the following functions:
`autoplot()`, `ggseasonplot()`, `ggsubseriesplot()`, `gglagplot()`, `ggAcf()`

Can you splot any seasonality, cyclicity and trend? What do you learn about the series?

### Question 4: 
Create time plots of the following time series: `bicoal`, `chicken`, `dole`, `usdeaths`, `lynx`, `goog`, `writing`, `fancy`, `a10`, `h02`.

* Use `help()` to find out about the data in each series.
* For the `goog` plot, modify the axis labels and title.

### Question 5: 
Use the `ggseasonplot()` and `ggsubseriesplot()` functions to explore the seasonal patterns int he following time series: `writing`, `fancy`, `a10`, `h02`.

* What can you say about the seasonal patterns? 
* Can you identify any unusual years?

### Question 6: 
Use the following graphics functions: `autoplot()`, `ggseasonplot()`, `ggsubseriesplot()`, `gglagplot()`, `ggAcf()` and explore features from the following time series: `hsales`, `usdeaths`, `bricksq`, `subsplotarea`, `gasoline`.

* Can you spot any seasonality, cyclicity and trend?
* What do you learn about the series?

### Question 7: 
The `arrivals` data set comprises quarterly international arrivals (in thousands) to Australia from Japan, New Zealand, UK and the US.

* Use `autoplot()`, `ggseasonplot()` and `ggsubseriesplot()` to compare the differences between the arrivals from these four countries.
* Can you identify any unusual observations?

### Question 8: 
The following time series and ACF plots correspond to four different time series. Your task is to match time time plot in the first row with one of the ACF plots in the second row.
```{r, echo=FALSE, fig.cap=''}
knitr::include_graphics("acfguess-1.png")
```

### Question 9: 
The `pigs` data shows te monthly total number of pigs slaughtered in Victoria, Australia, from Jan $1980$ to Aug $1995$. Use `mypigs = window(pigs, start=1990)` to select the data starting from $1990$. Use `autoplot` and `ggAcf` for `mypigs` series and compare these to white noise plots from Figures 2.17 and Figure 2.18.

```{r, echo=FALSE, fig.cap="Figure 2.17: A white noise time series"}
knitr::include_graphics("wnoise-1.png")
```

```{r, echo=FALSE, fig.cap="Figure 2.18: Autocorrelation function for the white noise series"}
knitr::include_graphics("wnoiseacf-1.png")
```

### Question 10: 
`dj` contains $292$ consecutive trading days of the Dow Jones Index. Use `ddj = diff(df)` to compute the daily changes in the index. Plot `ddj` and its ACF. Do the changes in the Dow Jones Index look like white noise?


#### Source: Hyndman, R.J., & Athanasopoulos, G. (2018) Forecasting: principles and practice, 2nd edition, OTexts: Melbourne, Australia. OTexts.com/fpp2. Accessed on August 1 2019.

